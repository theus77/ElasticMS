<script type="text/javascript">
<!--

//-->


$(window).ready(function() {
	$('#add-search-filter-button').on('click', function(e) {
		// prevent the link from creating a "#" on the URL
        e.preventDefault();

        var $listFilters = $('#list-of-search-filters');
        var prototype = $listFilters.data('prototype');
        var index = $listFilters.data('index');
     	// Replace '__name__' in the prototype's HTML to
        // instead be a number based on how many items we have
        var newForm = $(prototype.replace(/__name__/g, index));

     	// increase the index with one for the next item
        $listFilters.data('index', index + 1);

        newForm.find('.remove-filter').on('click', function(e) {
    		// prevent the link from creating a "#" on the URL
            e.preventDefault();

            console.log($(this).parents('.filter-container').remove());
            
    	});

        $listFilters.append(newForm);
        
	});

	$('.remove-filter').on('click', function(e) {
		// prevent the link from creating a "#" on the URL
        e.preventDefault();

        console.log($(this).parents('.filter-container').remove());
        
	});
});
</script>
{% extends 'base.html.twig' %}

{% block title %}Edit "{{ contentType.name|humanize }}"  content type{% endblock %}
{% block pagetitle %}Edit "{{ contentType.name|humanize }}" content type{% endblock %} 

{% block breadcrumb %}
	<ol class="breadcrumb">
		<li><a href="{{ url("contenttype.index") }}"><i class="fa fa-cubes"></i> Content Types`</a></li>
   		<li class="active">edit</li>
   	</ol>
{% endblock %}

{% block body %}

	{% form_theme form 'form/fields.html.twig' %}	
	{{ form_start(form) }}
	
	<div class="row">
		<div class="col-md-12">
			<div class="box ">
				<div class="box-header with-border">
					<i class="fa fa-sitemap"></i>
					<h3 class="box-title">{{ contentType.name|humanize }}'s metas</h3>
				</div>
				<!-- /.box-header -->
				<div class="box-body">
					<div class="col-md-4">
{# 						{{ form_row(form.active) }}#}
						{% if contentType.environment.managed %}
							{{ form_row(form.rootContentType) }}
						{% endif %}
						{{ form_row(form.editTwigWithWysiwyg) }}
						{{ form_row(form.pluralName) }}
						{{ form_row(form.icon) }}
						{{ form_row(form.color) }}
						{{ form_row(form.labelField) }}
{# 						{{ form_row(form.orderKey) }}#}
{# 						{{ form_row(form.parentField) }}#}
{# 						{{ form_row(form.categoryField) }}#}
{# 						{{ form_row(form.userField) }}#}
{# 						{{ form_row(form.dateField) }}#}
{# 						{{ form_row(form.startDateField) }}#}
{# 						{{ form_row(form.endDateField) }}#}
{# 						{{ form_row(form.locationField) }}#}
{# 						{{ form_row(form.ouuidField) }}#}
{# 						{{ form_row(form.imageField) }}#}
{# 						{{ form_row(form.videoField) }}#}
					</div>
					
					<div class="col-md-8">
						{{ form_row(form.description) }}
						{{ form_row(form.indexTwig) }}
					</div>


				<div class="col-md-12">
					<div class="nav-tabs-custom">
						<ul class="nav nav-tabs">
							{% if contentType.environment.managed %}
								<li class="active"><a href="#tab_1" data-toggle="tab"
									aria-expanded="true">Structure</a></li>
							{% endif %}
							{% if mapping %}
								<li class="{% if not contentType.environment.managed %}active{% endif %}"><a href="#tab_2" data-toggle="tab"
									aria-expanded="false">Mapping</a></li>
							{% endif %}
						</ul>
						<div class="tab-content">
							{% if contentType.environment.managed %}
								<div class="tab-pane active" id="tab_1">
									<ul class="list-group">
										{{ form_row(form.fieldType) }}
									</ul>
								</div>
							{% endif %}	
							{% if mapping %}
								{% import "macros/view.html.twig" as macros %}
								<div class="tab-pane{% if not contentType.environment.managed %} active{% endif %}" id="tab_2">
									{{ macros.renderMapping(mapping) }}
								</div>
								<!-- /.tab-pane -->
							{% endif %}	
						</div>
						<!-- /.tab-content -->
					</div>
				</div>


{# 					{% if contentType.environment.managed %}#}
{# 						<div class="col-md-12">test#}
{# 							<ul class="list-group sortable">#}
{# 								{{ form_row(form.fieldType) }}#}
{# 							</ul>#}
{# 						</div>#}
{# 					{% endif %}#}
										
				</div>
				<!-- /.box-body -->		
				<div class="box-footer">
					<div class="btn-group pull-right">
						{{ form_widget(form.save) }}
						{{ form_widget(form.saveAndClose) }}
					</div>
				</div>
			</div>
		</div>
	</div>

	{{ form_end(form) }}	

{% endblock %} 

{% block javascripts %}
	{% include 'app/menu.html.twig' with {
		'item':  'contenttype-list'
	}%}
	
	<script type="text/javascript">
<!--

//-->
	$(document).ready(function() {
		$('ul.sortable').sortable();
	});
</script>
	
{% endblock %}	


$(document).ready(function() {
    //Initialize Select2 Elements
    $(".select2").select2();
    
    //Function to update the cluster status
	var updateStatusFct = function(){
		$.getJSON( "{{ url('elasticsearch.status')|raw }}.json" )
		  .done(function( json ) {
			  $('#status-overview').html(json.body);
		  })
		  .fail(function( jqxhr, textStatus, error ) {
			var err = textStatus + ", " + error;
			$('#status-overview').html('<i class="fa fa-circle text-red"></i> ' + err);
		  });
	};	

 	//cron to update the cluster status
	updateStatusFct();
	window.setInterval(function(){
		updateStatusFct();
	}, 60000);
	//60000 every minute
	
	
	//try to find wich sidemenu elements to activate
	if (typeof side_menu_target !== 'undefined') { 
    	$('#'+side_menu_target).parents('li').addClass('active');
	} 
	
	
});

$(window).load(function() {
	$("img.lazy").show().lazyload({
	    effect : "fadeIn",
	    threshold : 200
	});
});




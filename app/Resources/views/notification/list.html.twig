{% extends 'base.html.twig' %} 

{% block title %} List Notificagtions {%endblock %} 
{% block pagetitle %} List Notifications {% endblock %} 

{% block body %}
<div class="row">
	<div class="col-md-12">
		<div class="box ">
			<div class="box-header with-border">
				<i class="fa fa-file-text-o"></i>
				<h3 class="box-title">Notifications in pending</h3>
			</div>
			<!-- /.box-header -->
			<div class="box-body">
				<!-- Notifications Menu -->
				<span>You have {{ counter }} notification(s)</span>

				<table class="table table-condensed table-striped">
					<tbody>
						<tr>
							<th class="text-center" style="width: 10px">#</th>
							<th>Type of notification</th>
							<th>Create by</th>
							<th>Date</th>
							<th>Environment</th>
							<th>Type</th>
							<th>Node</th>
							<th>Actions</th>
						</tr>
					</tbody>
					{% for notification in notifications %}
						<tr>
							<td class="text-center">{{ loop.index }}.</td>
							<td><i class="fa {{notification.templateId.icon}}"></i> {{ notification.templateId.name }}</td>
							<td>{{ notification.username|humanize }}</td>
							<td>{{ notification.created|date|date(date_time_format) }}</td>
							<td>
								<span class="badge bg-{{ notification.environmentId.color|raw }}">{{ notification.environmentId.name|humanize }}</span>
							</td>
							<td class="text-{{ notification.revisionId.contentType.color }}"><i class="{{ notification.revisionId.contentType.icon }}"></i>{{ notification.revisionId.contentType.name }}</td>
							<td>
							<a href="{{ path('data.revisions', {'type': notification.revisionId.contentType.name, 'ouuid':  notification.revisionId.ouuid, 'revisionId':  notification.revisionId.id} ) }}">
								<i class="fa fa-eye"></i>
								{{ notification.revisionId.ouuid }}
							</a>
		
							<td>
								<div class="btn-group">
									mark as treated 
			                    </div>
							</td>
						</tr>
					{% endfor %}
				</table>
			</div>
			<div class="box-footer with-border">
				{% include 'elements/pagination.html.twig' with {
					'lastPage': lastPage,
					'currentPage': page,
					'currentFilters': app.request.query,
					'paginationPath': paginationPath,
					'showAlwaysFirstAndLast': false
				} %}
			</div>
		</div>
	</div>
</div>
{% endblock %} 
# Learn more about services, parameters and containers at
# http://symfony.com/doc/current/book/service_container.html
parameters:
    templating: value

services:
    app.twig_extension:
        class: AppBundle\Twig\AppExtension
        arguments: ['@doctrine']
        public: false
        tags:
            - { name: twig.extension, priority: -2000 }
    app.listener.request:
        class: AppBundle\EventListener\RequestListener
        arguments: ['@twig', '@doctrine']
        tags:
            - { name: kernel.event_listener, event: kernel.controller, method: provideTemplateTwigObjects, priority: -20 }
    app.elasticsearch:
        class: Elasticsearch\ClientBuilder
        factory: [AppBundle\Factories\ElasticsearchClientBuilderFactory, build]
        arguments: [%elasticsearch_cluster%]
    app.twig.extension.stringloader:
        class: Twig_Extension_StringLoader
        tags:
             - { name: 'twig.extension' }
#### Begin list available ems ViewType ###
    ems.fieldtype.container:
        class: AppBundle\Form\DataField\ContainerFieldType
        tags:
            - { name: ems.form.datafieldtype, alias: container }
            - { name: form.type }
    ems.fieldtype.collection:
        class: AppBundle\Form\DataField\CollectionFieldType
        tags:
            - { name: ems.form.datafieldtype, alias: collection }
            - { name: form.type }
    ems.fieldtype.colorpicker:
        class: AppBundle\Form\DataField\ColorPickerFieldType
        tags:
            - { name: ems.form.datafieldtype, alias: colorpicker }
            - { name: form.type }
    ems.fieldtype.nested:
        class: AppBundle\Form\DataField\NestedFieldType
        tags:
            - { name: ems.form.datafieldtype, alias: nested }
            - { name: form.type }
    ems.fieldtype.tabs:
        class: AppBundle\Form\DataField\TabsFieldType
        tags:
            - { name: ems.form.datafieldtype, alias: tabs }
            - { name: form.type }
    ems.fieldtype.ouuid:
        class: AppBundle\Form\DataField\OuuidFieldType
        tags:
            - { name: ems.form.datafieldtype, alias: ouuid }
            - { name: form.type }
    ems.fieldtype.dataLink:
        class: AppBundle\Form\DataField\DataLinkFieldType
        tags:
            - { name: ems.form.datafieldtype, alias: datalink }
            - { name: form.type }
    ems.fieldtype.text:
        class: AppBundle\Form\DataField\TextFieldType
        tags:
            - { name: ems.form.datafieldtype, alias: text }
            - { name: form.type }
    ems.fieldtype.wysiwyg:
        class: AppBundle\Form\DataField\WysiwygFieldType
        tags:
            - { name: ems.form.datafieldtype, alias: wysiwyg }
            - { name: form.type }
    ems.fieldtype.textarea:
        class: AppBundle\Form\DataField\TextareaFieldType
        tags:
            - { name: ems.form.datafieldtype, alias: textarea }
            - { name: form.type }
    ems.fieldtype.select:
        class: AppBundle\Form\DataField\SelectFieldType
        tags:
            - { name: ems.form.datafieldtype, alias: select }
            - { name: form.type }
    ems.fieldtype.password:
        class: AppBundle\Form\DataField\PasswordFieldType
        tags:
            - { name: ems.form.datafieldtype, alias: password }
            - { name: form.type }
    ems.fieldtype.email:
        class: AppBundle\Form\DataField\EmailFieldType
        tags:
            - { name: ems.form.datafieldtype, alias: email }
            - { name: form.type }
    ems.fieldtype.radio:
        class: AppBundle\Form\DataField\RadioFieldType
        tags:
            - { name: ems.form.datafieldtype, alias: radio }
            - { name: form.type }
    ems.fieldtype.choice:
        class: AppBundle\Form\DataField\ChoiceFieldType
        tags:
            - { name: ems.form.datafieldtype, alias: choice }
            - { name: form.type }
    ems.fieldtype.checkbox:
        class: AppBundle\Form\DataField\CheckboxFieldType
        tags:
            - { name: ems.form.datafieldtype, alias: checkbox }
            - { name: form.type }
    ems.fieldtype.number:
        class: AppBundle\Form\DataField\NumberFieldType
        tags:
            - { name: ems.form.datafieldtype, alias: number }
            - { name: form.type }
    ems.fieldtype.date:
        class: AppBundle\Form\DataField\DateFieldType
        #arguments: ['%date_format%']
        #calls:
        #    - [setDateFormat, ['%date_format%']]
        tags:
            - { name: ems.form.datafieldtype, alias: date }
            - { name: form.type }
    ems.fieldtype.time:
        class: AppBundle\Form\DataField\TimeFieldType
        #arguments: ['%date_format%']
        #calls:
        #    - [setDateFormat, ['%date_format%']]
        tags:
            - { name: ems.form.datafieldtype, alias: time }
            - { name: form.type }
#### End list available ems views ###
#### Begin list available ems FieldDataType ###
    ems.view.keywords:
        class: AppBundle\Form\View\KeywordsViewType
        arguments: ['@twig', '@app.elasticsearch']
        tags:
            - { name: ems.form.viewtype, alias: keywords }
            - { name: form.type }
    ems.view.criteria:
        class: AppBundle\Form\View\CriteriaViewType
        arguments: ['@twig', '@app.elasticsearch']
        tags:
            - { name: ems.form.viewtype, alias: criteria }
            - { name: form.type }
#### End list available ems views ###
    ems.form.factories.objectChoiceListFactory:
        class: AppBundle\Form\Factory\ObjectChoiceListFactory
        arguments: ['@app.elasticsearch', '@doctrine']
    ems.form.field.objectpickertype:
        class: AppBundle\Form\Field\ObjectPickerType
        arguments: ['@ems.form.factories.objectChoiceListFactory']
        tags:
            - { name: form.type }
    ems.form.field.viewtypepickertype:
        class: AppBundle\Form\Field\ViewTypePickerType
        tags:
            - { name: form.type }
    ems.form.field.datafieldtypepickertype:
        class: AppBundle\Form\Field\FieldTypePickerType
        tags:
            - { name: form.type }
    ems.form.fieldtype.fieldtypetype:
        class: AppBundle\Form\FieldType\FieldTypeType
        arguments: ['@ems.form.field.datafieldtypepickertype']
        tags:
            - { name: form.type }
    ems.service.mapping:
        class: AppBundle\Service\Mapping
        arguments: ['@ems.form.fieldtype.fieldtypetype']